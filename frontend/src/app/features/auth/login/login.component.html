<div class="login-shell min-h-screen flex items-center justify-center">
  <div class="login-card w-full max-w-md rounded-lg p-8" role="region" aria-label="Formulario de inicio de sesión">

    <!-- Logos (dos marcas con divisor) -->
  <!-- Logo único con control de tamaño -->
<div class="flex justify-center mb-6">
  <div class="logo-wrap" role="img" aria-label="Logo Sanmarino Tecnología e Innovación">
    <img
      src="assets/brand/icono-logo.png"
      alt="Sanmarino Tecnología e Innovación"
      class="logo-img"
      loading="eager"
      decoding="async"
    />
  </div>
</div>


    <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="space-y-4" novalidate>
      <!-- Error global -->
      <div *ngIf="errorMsg" class="alert-error" role="alert">
        {{ errorMsg }}
      </div>

      <!-- Email -->
      <div class="field">
        <label for="email" class="label">Email</label>
        <input
          id="email"
          type="email"
          formControlName="email"
          placeholder="you@example.com"
          class="brand-input"
          autocomplete="username email"
          inputmode="email"
          [attr.aria-invalid]="loginForm.get('email')?.invalid && loginForm.get('email')?.touched"
          required
        />
        <div *ngIf="loginForm.get('email')?.touched && loginForm.get('email')?.invalid" class="hint-error" role="status" aria-live="polite">
          <div *ngIf="loginForm.get('email')?.errors?.['required']">El email es obligatorio.</div>
          <div *ngIf="loginForm.get('email')?.errors?.['email']">Email no válido.</div>
        </div>
      </div>

      <!-- Contraseña -->
      <div class="field">
        <label for="password" class="label">Contraseña</label>
        <input
          id="password"
          type="password"
          formControlName="password"
          placeholder="••••••••"
          class="brand-input"
          autocomplete="current-password"
          [attr.aria-invalid]="loginForm.get('password')?.invalid && loginForm.get('password')?.touched"
          required
        />
        <div *ngIf="loginForm.get('password')?.touched && loginForm.get('password')?.invalid" class="hint-error" role="status" aria-live="polite">
          <div *ngIf="loginForm.get('password')?.errors?.['required']">La contraseña es obligatoria.</div>
          <div *ngIf="loginForm.get('password')?.errors?.['minlength']">
            Mínimo {{ loginForm.get('password')?.errors?.['minlength'].requiredLength }} caracteres.
          </div>
        </div>
      </div>

      <!-- Recordarme -->
      <label class="remember">
        <input type="checkbox" formControlName="remember" class="remember__control" />
        <span class="remember__label">Recordarme</span>
      </label>

      <!-- Botón -->
      <button
        type="submit"
        class="brand-btn"
        [disabled]="loginForm.invalid || loading"
        aria-label="Entrar"
      >
        {{ loading ? 'Ingresando…' : 'Entrar' }}
      </button>

      <!-- Enlace de recuperación de contraseña -->
      <div class="forgot-password">
        <button type="button" class="link-button" (click)="goToPasswordRecovery()">
          ¿Olvidaste tu contraseña?
        </button>
      </div>
     
        <img
          src="assets/brand/italcol-blanco.png"
          class="logo-img-accent "
          loading="eager"
          decoding="async"
        />
    </form>
  </div>
</div>

<footer class="site-footer" role="contentinfo">
  <div class="footer-inner">
    <span>© {{ today | date:'yyyy' }} Sanmarino Genética Avícola</span>
    <span class="dot">•</span>
    <span>Todos los derechos reservados</span>
  </div>
</footer>
