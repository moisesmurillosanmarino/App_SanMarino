<section class="ux-card" *ngIf="selectedLote as L">
  <h3 class="sr-only">InformaciÃ³n del lote</h3>

  <div class="ux-scroll"> <!-- scroll horizontal si no cabe -->
    <table class="ux-table one-line-table">
      <thead>
        <tr>
          <th>ğŸ“‹ Lote (ID)</th>
          <th>ğŸ  Granja</th>
          <th>ğŸ§¬ NÃºcleo</th>
          <th>ğŸšï¸ GalpÃ³n</th>
          <th>ğŸ“… Encaset</th>
          <th>â³ Edad (dÃ­as)</th>
          <th>ğŸ“¦ Aves encasetadas</th>
          <th>ğŸ” Hembras L</th>
          <th>ğŸ“ Machos L</th>
          <th>âš–ï¸ Peso H (g)</th>
          <th>âš–ï¸ Peso M (g)</th>
          <th>ğŸ£ Raza</th>
          <th>ğŸ§¬ LÃ­nea genÃ©tica</th>
          <th>ğŸ“† AÃ±o guÃ­a</th>
          <th>ğŸ‘· TÃ©cnico</th>
          <th>ğŸ•’ Creado</th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td><strong>{{ L.loteNombre }}</strong></td>

          <td>{{ L.farm?.name || selectedGranjaName }} <span *ngIf="L.granjaId"></span></td>
          <td>{{ L.nucleo?.nucleoNombre || selectedNucleoNombre}}</td>
          <td>{{ L.galpon?.galponNombre }} </td>
          <td>{{ formatDMY(L.fechaEncaset) }}</td>
          <td>{{ calcularEdadDias(L.fechaEncaset) }}</td>
          <td>{{ (L.avesEncasetadas ?? 0) | number:'1.0-0' }}</td>
          <td>{{ (L.hembrasL ?? 0) | number:'1.0-0' }}</td>
          <td>{{ (L.machosL  ?? 0) | number:'1.0-0' }}</td>
          <td>{{ L.pesoInicialH ?? 'â€”' }}</td>
          <td>{{ L.pesoInicialM ?? 'â€”' }}</td>
          <td>{{ L.raza || 'â€”' }}</td>
          <td>
            <ng-container *ngIf="L.linea || L.tipoLinea; else noLinea">
              {{ L.linea || 'â€”' }}<span *ngIf="L.tipoLinea"> ({{ L.tipoLinea }})</span>
            </ng-container>
            <ng-template #noLinea>â€”</ng-template>
          </td>
        
          <td>{{ L.anoTablaGenetica ?? 'â€”' }}</td>
          <td>{{ L.tecnico || 'â€”' }}</td>
          <td>
            <ng-container *ngIf="L.createdAt; else noCreado">
              {{ formatDMY(L.createdAt) }} <span *ngIf="L.createdByUserId">â€” {{ L.createdByUserId }}</span>
            </ng-container>
            <ng-template #noCreado>â€”</ng-template>
          </td>
    
        </tr>
      </tbody>
    </table>
  </div>
</section>



