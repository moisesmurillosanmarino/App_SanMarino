<div class="graficas-container">
  <div class="graficas-header">
    <h3>ğŸ“Š GrÃ¡ficas de ProducciÃ³n</h3>
    <p class="graficas-subtitle">VisualizaciÃ³n de mÃ©tricas clave de producciÃ³n</p>
  </div>

  <!-- Resumen de mÃ©tricas -->
  <div class="metricas-resumen" *ngIf="registros.length > 0">
    <div class="metrica-card">
      <div class="metrica-icon">ğŸ“Š</div>
      <div class="metrica-content">
        <div class="metrica-value">{{ getTotalRegistros() }}</div>
        <div class="metrica-label">Registros</div>
      </div>
    </div>
    
    <div class="metrica-card">
      <div class="metrica-icon">ğŸ¥š</div>
      <div class="metrica-content">
        <div class="metrica-value">{{ getPromedioHuevos() | number:'1.0-0' }}</div>
        <div class="metrica-label">Huevos/DÃ­a</div>
      </div>
    </div>
    
    <div class="metrica-card">
      <div class="metrica-icon">âœ…</div>
      <div class="metrica-content">
        <div class="metrica-value">{{ getPromedioIncubables() | number:'1.0-0' }}</div>
        <div class="metrica-label">Incubables/DÃ­a</div>
      </div>
    </div>
    
    <div class="metrica-card">
      <div class="metrica-icon">ğŸ“ˆ</div>
      <div class="metrica-content">
        <div class="metrica-value">{{ getEficienciaPromedio() | number:'1.1-1' }}%</div>
        <div class="metrica-label">Eficiencia</div>
      </div>
    </div>
  </div>

  <!-- GrÃ¡ficos -->
  <div class="graficas-grid" *ngIf="registros.length > 0">
    <!-- Mortalidad -->
    <div class="grafica-card">
      <div class="grafica-header">
        <h4>ğŸ’€ Mortalidad Diaria</h4>
        <p>EvoluciÃ³n de mortalidad por sexo</p>
      </div>
      <div class="grafica-content">
        <canvas 
          baseChart
          [data]="mortalidadData"
          [type]="'line'"
          [options]="lineOptions">
        </canvas>
      </div>
    </div>

    <!-- Consumo -->
    <div class="grafica-card">
      <div class="grafica-header">
        <h4>ğŸ½ï¸ Consumo de Alimento</h4>
        <p>Consumo diario por sexo (kg)</p>
      </div>
      <div class="grafica-content">
        <canvas 
          baseChart
          [data]="consumoData"
          [type]="'line'"
          [options]="lineOptions">
        </canvas>
      </div>
    </div>

    <!-- ProducciÃ³n -->
    <div class="grafica-card">
      <div class="grafica-header">
        <h4>ğŸ¥š ProducciÃ³n de Huevos</h4>
        <p>Huevos totales vs incubables</p>
      </div>
      <div class="grafica-content">
        <canvas 
          baseChart
          [data]="produccionData"
          [type]="'line'"
          [options]="lineOptions">
        </canvas>
      </div>
    </div>

    <!-- Eficiencia -->
    <div class="grafica-card">
      <div class="grafica-header">
        <h4>ğŸ“Š Eficiencia de ProducciÃ³n</h4>
        <p>DistribuciÃ³n de huevos incubables</p>
      </div>
      <div class="grafica-content">
        <canvas 
          baseChart
          [data]="eficienciaData"
          [type]="'doughnut'"
          [options]="doughnutOptions">
        </canvas>
      </div>
    </div>
  </div>

  <!-- Estado vacÃ­o -->
  <div *ngIf="registros.length === 0" class="empty-state">
    <div class="empty-icon">ğŸ“Š</div>
    <p>No hay datos suficientes para generar grÃ¡ficas.</p>
    <p class="empty-hint">Agrega registros de producciÃ³n para ver las visualizaciones.</p>
  </div>

  <!-- Estado de carga -->
  <div *ngIf="loading" class="loading-state">
    <div class="spinner"></div>
    <p>Generando grÃ¡ficas...</p>
  </div>
</div>
